# Add Dragons
magiks_descisions_add_dragons = {
	owned_planets_only = yes
	
	resources = {
		category = decisions
		cost = {
			energy = 250
			minerals = 500
		}
	}
	
	potential = {
		NOR = { 
			has_modifier = magiks_dragons 
			has_modifier = magiks_dragons_tamed
			}
		owner = { 
			is_regular_empire = yes
			has_civic = magiks_civic_dragon_tamers
		}
	}
	
	effect = {
		add_modifier = { modifier = "magiks_dragons" days = -1 }
		add_modifier = { modifier = "magiks_dragons_tamed" days = -1 }
	}
	
	ai_weight = {
		weight = 200
	}
}

# Tame Dragons
magiks_descisions_tame_dragons = {
	owned_planets_only = yes
	
	resources = {
		category = decisions
		cost = {
			energy = 125
			minerals = 250
		}
	}
	
	potential = {
		has_modifier = magiks_dragons
		NOT = {  
			has_modifier = magiks_dragons_tamed
			}
		owner = { 
			is_regular_empire = yes
			has_civic = magiks_civic_dragon_tamers
		}
	}
	
	effect = {
		add_modifier = { modifier = "magiks_dragons_tamed" days = -1 }
	}
	
	ai_weight = {
		weight = 200
	}
}

# Remove Dragons
magiks_descisions_exterminate_dragons = {
	owned_planets_only = yes
	
	resources = {
		category = decisions
		cost = {
			energy = 1000
			minerals = 1000
			alloys = 500
		}
	}
	
	potential = {
		has_modifier = magiks_dragons
		owner = {
			is_regular_empire = yes
			NOT = {
				has_civic = magiks_civic_dragon_tamers
			}
		}
	}
	
	effect = {
		remove_modifier = magiks_dragons 
	}
	
	ai_weight = {
		weight = 200
	}
}

magiks_descisions_create_hyperlane = {
	owned_planets_only = no
	resources = {
		category = decisions
		cost = { energy = 1 }
	}
	
	potential = {
		exists = owner
		owner = {
			is_regular_empire = yes
		}
	}
	
	effect = {	
		owner = { set_country_flag = magiks_create_hyperlane }
		planet.solar_system = {
			log = "Current system : [This.GetName]"
			set_star_flag = magiks_core_system_for_hyperlane
			every_neighbor_system_euclidean = {
				limit = {
					distance = {
						source = PREV
						max_distance <= 250
						type = euclidean
						same_solar_system = no
					}
					NOT = { has_hyperlane_to = PREV }
				}
				log = "This scope: [This.GetName], Prev scope: [Prev.GetName]"
				add_hyperlane = {
					from = THIS
					to = PREV
				}
				set_star_flag = magiks_add_system_to_hyperlane_list
			}
		}

	}
	
	ai_weight = {
		weight = 200
	}
}

magiks_descisions_delete_hyperlane = {
	owned_planets_only = no
	resources = {
		category = decisions
		cost = { energy = 1 }
	}
	
	potential = {
		exists = owner
		owner = {
			is_regular_empire = yes
		}
	}
	
	effect = {	
		planet.solar_system = {
			log = "Current system : [This.GetName]"
			every_neighbor_system_euclidean = {
				limit = {
					distance = {
						source = PREV
						max_distance <= 250
						type = euclidean
						same_solar_system = no
					}
					has_hyperlane_to = PREV
				}
				log = "This scope: [This.GetName], Prev scope: [Prev.GetName]"
				remove_hyperlane = {
					from = THIS
					to = PREV
				}
			}
		}
	}
	
	ai_weight = {
		weight = 200
	}
}